{"version":3,"sources":["assets/sounds/beep.mp3","assets/sounds/beep-primary.mp3","components/app/Header.js","shared/paths.js","redux/modules/general/constants.js","redux/modules/general/actions.js","shared/constants.js","redux/modules/workouts/selectors.js","components/app/Sider.js","pages/PopularList.js","shared/utils.js","shared/metronome.js","components/Track.js","redux/modules/workouts/constants.js","redux/modules/workouts/actions.js","pages/Workout.js","Router.js","components/modals/ManageWorkout.js","components/modals/ManageTrack.js","components/modals/index.js","App.js","mocks/workouts.js","redux/modules/workouts/reducer.js","redux/modules/general/reducer.js","redux/reducers.js","redux/configureStore.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","AppHeader","react_default","a","createElement","className","style","width","margin","menu","theme","mode","lineHeight","Item","key","WORKOUT","POPULAR","STARRED","actionTypes","OPEN_MODAL","CLOSE_MODAL","openModal","_ref","modal","meta","type","payload","modals","MANAGE_WORKOUT","MANAGE_TRACK","getWorkoutsList","createSelector","state","workouts","ids","map","id","byId","getTracksList","workout","tracks","SubMenu","Sider","Text","getSelectedKeys","memoize","path","matchPath","paths","match","generatePath","params","actions","openModalAction","withRouter","connect","location","selectedKeys","pathname","background","overflowX","overflowY","height","borderRight","title","icon","react_router_dom","to","ellipsis","name","onClick","PopularList","reorder","list","startIndex","endIndex","result","Array","from","_result$splice","splice","removed","Object","slicedToArray","r","i","objectSpread","order","reduce","acc","item","defineProperty","concat","toConsumableArray","Metronome","bpm","classCallCheck","this","beepPrimary","Audio","beep","canBeep","currentBeep","intervalCallback","interval","setInterval","bind","play","clearInterval","Track","props","_this","possibleConstructorReturn","getPrototypeOf","call","metronome","internalTimer","timer","_this$props","isActive","setState","setTimer","prevProps","_this$props2","stop","_this2","onFinish","start","_this$props3","description","onPlay","onPause","workoutId","deleteTrack","es_list","row","align","col","span","es_button","shape","dropdown","trigger","placement","overlay","trackId","size","React","Component","ACTIVATE_WORKOUT","PAUSE_WORKOUT","REORDER_TRACKS","CREATE_WORKOUT","UPDATE_WORKOUT","CREATE_TRACK","UPDATE_TRACK","DELETE_TRACK","activateWorkout","pauseWorkout","Workout","onDragEnd","reorderTracks","destination","reorderedTracks","source","index","nextWorkout","justify","element","document","getElementById","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","react_beautiful_dnd_esm","droppableId","provided","assign","droppableProps","ref","innerRef","itemLayout","track","trackIndex","draggableId","draggableProps","dragHandleProps","Track_Track","currentTrackId","placeholder","lib","shortname","config","url","window","href","identifier","activateWorkoutAction","pauseWorkoutAction","dispatch","getState","currentTrack","nextTrack","find","Router","Fragment","react_router","exact","component","StarredList","formItemLayout","labelCol","xs","wrapperCol","ManageWorkout","handleSubmit","e","preventDefault","form","createWorkout","updateWorkout","closeModal","history","validateFields","asyncToGenerator","regenerator_default","mark","_callee","err","values","responseWorkout","wrap","_context","prev","next","sent","push","_x","_x2","apply","arguments","fieldsError","visible","getFieldDecorator","getFieldsError","es_modal","onCancel","footer","disabled","keys","some","field","es_form","onSubmit","label","rules","required","message","input","display","uuid","v4","fields","create","mapPropsToFields","_ref2","createFormField","value","ManageTrack","createTrack","updateTrack","initialValue","input_number","length","_ref3","_ref4","general","opened","modals_ManageWorkout","modals_ManageTrack","Content","App","layout","components_modals","app_Sider","padding","overflow","mocks_workouts","INITIAL_STATE","combineReducers","undefined","action","_action$payload","flow","set","_action$payload2","_action$payload3","_action$payload4","_action$payload5","_action$payload6","newWorkout","filter","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","storage","whitelist","persistedReducer","persistReducer","reducers","store","createStore","applyMiddleware","thunk","persistor","persistStore","configureStore","ReactDOM","render","es","integration_react","loading","src_App"],"mappings":"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","file":"static/js/main.892ce994.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beep.272df74f.mp3\";","module.exports = __webpack_public_path__ + \"static/media/beep-primary.106011f4.mp3\";","import React from \"react\";\nimport { Layout, Menu } from \"antd\";\n\nconst { Header } = Layout;\n\nexport default function AppHeader() {\n  return (\n    <Header className=\"header\">\n      <div style={{ width: \"1024px\", margin: \"auto\" }}>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" mode=\"horizontal\" style={{ lineHeight: \"64px\" }}>\n          <Menu.Item key=\"1\">nav 1</Menu.Item>\n          <Menu.Item key=\"2\">nav 2</Menu.Item>\n          <Menu.Item key=\"3\">nav 3</Menu.Item>\n        </Menu>\n      </div>\n    </Header>\n  );\n}\n","export const WORKOUT = \"/guitar-workout/workout/:id\";\nexport const POPULAR = \"/guitar-workout/popular\";\nexport const STARRED = \"/guitar-workout/starred\";\n","export const actionTypes = {\n  OPEN_MODAL: \"general/open-modal\",\n  CLOSE_MODAL: \"general/close-modal\"\n};\n","import { actionTypes } from \"./constants\";\n\nexport function openModal({ modal, meta }) {\n  return {\n    type: actionTypes.OPEN_MODAL,\n    payload: {\n      modal,\n      meta\n    }\n  };\n}\n\nexport function closeModal() {\n  return {\n    type: actionTypes.CLOSE_MODAL\n  };\n}\n","export const modals = {\n  MANAGE_WORKOUT: \"manage-workout\",\n  MANAGE_TRACK: \"manage-track\"\n};\n","import { createSelector } from \"reselect\";\n\nfunction getWorkouts(state) {\n  return state.workouts;\n}\n\nexport const getWorkoutsList = createSelector(\n  getWorkouts,\n  workouts => workouts.ids.map(id => workouts.byId[id])\n);\n\nfunction getTracks(workout) {\n  return workout.tracks;\n}\n\nexport const getTracksList = createSelector(\n  getTracks,\n  tracks => tracks.ids.map(id => tracks.byId[id])\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, generatePath, matchPath, withRouter } from \"react-router-dom\";\nimport { Layout, Menu, Icon, Typography } from \"antd\";\nimport * as paths from \"../../shared/paths\";\nimport memoize from \"lodash/memoize\";\nimport { openModal as openModalAction } from \"../../redux/modules/general/actions\";\nimport { modals } from \"../../shared/constants\";\nimport { getWorkoutsList } from \"../../redux/modules/workouts/selectors\";\n\nconst { SubMenu } = Menu;\nconst { Sider } = Layout;\nconst { Text } = Typography;\n\nconst getSelectedKeys = memoize(path => {\n  if (matchPath(path, { path: paths.POPULAR })) {\n    return [paths.POPULAR];\n  } else if (matchPath(path, { path: paths.STARRED })) {\n    return [paths.STARRED];\n  } else if (matchPath(path, { path: paths.WORKOUT })) {\n    const match = matchPath(path, { path: paths.WORKOUT });\n    return [generatePath(paths.WORKOUT, match.params)];\n  } else {\n    return [];\n  }\n});\n\nfunction AppSider({ location, match, openModal, workouts }) {\n  const selectedKeys = getSelectedKeys(location.pathname);\n\n  return (\n    <Sider\n      width={200}\n      style={{ background: \"#fff\", overflowX: \"hidden\", overflowY: \"auto\" }}\n    >\n      <Menu\n        mode=\"inline\"\n        style={{ height: \"100%\", borderRight: 0 }}\n        selectedKeys={selectedKeys}\n      >\n        <SubMenu\n          key=\"my\"\n          title={\n            <span>\n              <Icon type=\"unordered-list\" />\n              My Workouts\n            </span>\n          }\n        >\n          {workouts.map(workout => {\n            const path = generatePath(paths.WORKOUT, workout);\n            return (\n              <Menu.Item key={path}>\n                <Link to={path}>\n                  <Text ellipsis style={{ width: \"100%\" }}>\n                    {workout.name}\n                  </Text>\n                </Link>\n              </Menu.Item>\n            );\n          })}\n          <Menu.Item\n            key=\"3\"\n            onClick={() => openModal({ modal: modals.MANAGE_WORKOUT })}\n          >\n            <Icon type=\"plus\" />\n            Add New\n          </Menu.Item>\n        </SubMenu>\n        <Menu.Item key={paths.POPULAR}>\n          <Link to={paths.POPULAR}>\n            <Icon type=\"rise\" />\n            <span>Popular Workouts</span>\n          </Link>\n        </Menu.Item>\n\n        <Menu.Item key={paths.STARRED}>\n          <Link to={paths.STARRED}>\n            <Icon type=\"star\" />\n            <span>Starred Workouts</span>\n          </Link>\n        </Menu.Item>\n      </Menu>\n    </Sider>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    workouts: getWorkoutsList(state)\n  };\n}\n\nconst actions = {\n  openModal: openModalAction\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    actions\n  )(AppSider)\n);\n","import React from \"react\";\n// import { List, Avatar, Icon } from 'antd';\n\n// const listData = [];\n// for (let i = 0; i < 23; i++) {\n//   listData.push({\n//     href: 'http://ant.design',\n//     title: `ant design part ${i}`,\n//     avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\n//     description:\n//       'Ant Design, a design language for background applications, is refined by Ant UED Team.',\n//     content:\n//       'We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.',\n//   });\n// }\n\n// const IconText = ({ type, text }) => (\n//   <span>\n//     <Icon type={type} style={{ marginRight: 8 }} />\n//     {text}\n//   </span>\n// );\n\nexport default function PopularList() {\n  return <div>Comming soon</div>;\n  // return (\n  //   <List\n  //     itemLayout=\"vertical\"\n  //     size=\"large\"\n  //     pagination={{\n  //       onChange: page => {\n  //         console.log(page);\n  //       },\n  //       pageSize: 3,\n  //     }}\n  //     dataSource={listData}\n  //     renderItem={item => (\n  //       <List.Item\n  //         key={item.title}\n  //         actions={[\n  //           <IconText type=\"star-o\" text=\"156\" />,\n  //           <IconText type=\"message\" text=\"2\" />,\n  //         ]}\n  //       >\n  //         <List.Item.Meta\n  //           avatar={<Avatar src={item.avatar} />}\n  //           title={<a href={item.href}>{item.title}</a>}\n  //           description={item.description}\n  //         />\n  //         {item.content}\n  //       </List.Item>\n  //     )}\n  //   />\n  // )\n}\n","export const reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result.map((r, i) => ({\n    ...r,\n    order: i\n  }));\n};\n\nexport function openFullscreen(element) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  }\n}\n\nexport function byId(list) {\n  return list.reduce(\n    (acc, item) => ({\n      byId: {\n        ...acc.byId,\n        [item.id]: item\n      },\n      ids: [...acc.ids, item.id]\n    }),\n    { byId: {}, ids: [] }\n  );\n}\n","import beep from \"../assets/sounds/beep.mp3\";\nimport beepPrimary from \"../assets/sounds/beep-primary.mp3\";\n\nexport default class Metronome {\n  constructor({ bpm }) {\n    this.bpm = 60000 / bpm;\n    this.beepPrimary = new Audio(beepPrimary);\n    this.beep = new Audio(beep);\n    // this.beep.addEventListener('canplaythrough', this.onLoadAudio.bind(this, 'beep'))\n    // this.beepPrimary.addEventListener('canplaythrough', this.onLoadAudio.bind(this, 'beepPrimary'))\n    this.canBeep = 0;\n    this.currentBeep = 1;\n  }\n\n  onLoadAudio() {\n    this.canBeep = this.canBeep + 1;\n  }\n\n  start() {\n    this.intervalCallback();\n    this.interval = setInterval(this.intervalCallback.bind(this), this.bpm);\n  }\n\n  intervalCallback() {\n    if (this.currentBeep === 1) {\n      this.beepPrimary.play();\n    } else {\n      this.beep.play();\n    }\n\n    if (this.currentBeep >= 4) {\n      this.currentBeep = 1;\n    } else {\n      this.currentBeep += 1;\n    }\n  }\n\n  stop() {\n    this.currentBeep = 1;\n    clearInterval(this.interval);\n  }\n}\n","import React from \"react\";\nimport Metronome from \"../shared/metronome\";\nimport { List, Row, Col, Button, Dropdown, Menu, Icon } from \"antd\";\nimport { modals } from \"../shared/constants\";\n\nexport default class Track extends React.Component {\n  constructor(props) {\n    super();\n\n    this.metronome = new Metronome({ bpm: props.bpm });\n    this.state = {\n      internalTimer: props.timer\n    };\n  }\n\n  componentDidMount() {\n    const { isActive, timer } = this.props;\n    if (isActive) {\n      this.setState({\n        internalTimer: timer\n      });\n      this.setTimer();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { isActive, timer, bpm } = this.props;\n    if (prevProps.isActive !== isActive && isActive) {\n      this.setState({\n        internalTimer: timer\n      });\n      this.setTimer();\n    }\n\n    if (prevProps.isActive !== isActive && !isActive) {\n      this.metronome.stop();\n      clearInterval(this.interval);\n    }\n\n    if (prevProps.bpm !== bpm) {\n      this.metronome = new Metronome({ bpm: bpm });\n    }\n  }\n\n  setTimer() {\n    const { onFinish } = this.props;\n\n    this.metronome.start();\n    this.interval = setInterval(() => {\n      const { internalTimer } = this.state;\n      if (internalTimer === 1) {\n        onFinish();\n        this.metronome.stop();\n        clearInterval(this.interval);\n      }\n\n      this.setState({\n        internalTimer: internalTimer - 1\n      });\n    }, 1000);\n  }\n\n  render() {\n    const {\n      id,\n      name,\n      description,\n      bpm,\n      timer,\n      isActive,\n      onPlay,\n      onPause,\n      workoutId,\n      openModal,\n      deleteTrack\n    } = this.props;\n    const { internalTimer } = this.state;\n\n    return (\n      <List.Item style={{ background: \"white\" }}>\n        <Row type=\"flex\" align=\"middle\" style={{ width: \"100%\" }}>\n          <Col span={2}>\n            <Button\n              shape=\"round\"\n              type=\"primary\"\n              icon={isActive ? \"pause\" : \"caret-right\"}\n              onClick={isActive ? onPause : onPlay}\n            />\n          </Col>\n          <Col span={18}>\n            <div>\n              <b>{name}</b>\n            </div>\n            {description} BPM: {bpm}\n            <br />\n          </Col>\n          <Col span={3} align=\"right\">\n            {timer} / {internalTimer} sec\n          </Col>\n          <Col span={1} align=\"right\">\n            <Dropdown\n              trigger={[\"click\"]}\n              placement=\"bottomRight\"\n              overlay={\n                <Menu>\n                  <Menu.Item\n                    onClick={() =>\n                      openModal({\n                        modal: modals.MANAGE_TRACK,\n                        meta: { workoutId, trackId: id }\n                      })\n                    }\n                  >\n                    <Icon type=\"edit\" />\n                    Edit Track\n                  </Menu.Item>\n\n                  <Menu.Item onClick={() => deleteTrack(workoutId, id)}>\n                    <Icon type=\"delete\" />\n                    Delete Track\n                  </Menu.Item>\n                </Menu>\n              }\n              icon={<Icon type=\"user\" />}\n            >\n              <Button size=\"small\" icon=\"setting\" shape=\"circle-outline\" />\n            </Dropdown>\n          </Col>\n        </Row>\n      </List.Item>\n    );\n  }\n}\n","export const actionTypes = {\n  ACTIVATE_WORKOUT: \"workouts/activate-workout\",\n  PAUSE_WORKOUT: \"workouts/pause-workout\",\n  REORDER_TRACKS: \"workouts/reorder-tracks\",\n  CREATE_WORKOUT: \"workouts/create-workout\",\n  UPDATE_WORKOUT: \"workouts/update-workout\",\n  CREATE_TRACK: \"workouts/create-track\",\n  UPDATE_TRACK: \"workouts/update-track\",\n  DELETE_TRACK: \"workouts/delete-track\"\n};\n","import { actionTypes } from \"./constants\";\nimport uuid from \"uuid\";\nimport { getTracksList } from \"./selectors\";\n\nexport function nextWorkout(workoutId, currentTrackId) {\n  return (dispatch, getState) => {\n    const { workouts } = getState();\n    const tracks = workouts.byId[workoutId].tracks;\n    const currentTrack = tracks.byId[currentTrackId];\n    const tracksList = getTracksList(workouts.byId[workoutId]);\n    const nextTrack = tracksList.find(\n      ({ order }) => order === currentTrack.order + 1\n    );\n\n    if (nextTrack) {\n      dispatch(activateWorkout(workoutId, nextTrack.id));\n    } else {\n      dispatch(pauseWorkout(workoutId));\n    }\n  };\n}\n\nexport function activateWorkout(workoutId, trackId) {\n  return {\n    type: actionTypes.ACTIVATE_WORKOUT,\n    payload: {\n      workoutId,\n      trackId\n    }\n  };\n}\n\nexport function pauseWorkout(workoutId) {\n  return {\n    type: actionTypes.PAUSE_WORKOUT,\n    payload: {\n      workoutId\n    }\n  };\n}\n\nexport function reorderTracks(workoutId, tracks) {\n  return {\n    type: actionTypes.REORDER_TRACKS,\n    payload: {\n      workoutId,\n      tracks\n    }\n  };\n}\n\nexport function createWorkout(values) {\n  return dispatch => {\n    const workout = {\n      id: uuid.v4(),\n      ...values,\n      tracks: {\n        byId: {},\n        ids: []\n      }\n    };\n    dispatch({\n      type: actionTypes.CREATE_WORKOUT,\n      payload: workout\n    });\n\n    return workout;\n  };\n}\n\nexport function updateWorkout(workoutId, fields) {\n  return {\n    type: actionTypes.UPDATE_WORKOUT,\n    payload: {\n      workoutId,\n      ...fields\n    }\n  };\n}\n\nexport function createTrack(workoutId, values) {\n  return (dispatch, getState) => {\n    const { workouts } = getState();\n    const tracks = workouts.byId[workoutId].tracks;\n\n    const track = {\n      id: uuid.v4(),\n      ...values,\n      order: tracks.ids.length + 1\n    };\n    dispatch({\n      type: actionTypes.CREATE_TRACK,\n      payload: {\n        workoutId,\n        track\n      }\n    });\n  };\n}\n\nexport function updateTrack(workoutId, trackId, fields) {\n  return {\n    type: actionTypes.UPDATE_TRACK,\n    payload: {\n      workoutId,\n      trackId,\n      ...fields\n    }\n  };\n}\n\nexport function deleteTrack(workoutId, trackId) {\n  return {\n    type: actionTypes.DELETE_TRACK,\n    payload: {\n      workoutId,\n      trackId\n    }\n  };\n}\n","import React from \"react\";\nimport { List, Dropdown, Icon, Menu, Button, Row, Col } from \"antd\";\nimport { reorder, openFullscreen, byId } from \"../shared/utils\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { connect } from \"react-redux\";\nimport Track from \"../components/Track\";\nimport {\n  activateWorkout as activateWorkoutAction,\n  pauseWorkout as pauseWorkoutAction,\n  nextWorkout as nextWorkoutAction,\n  reorderTracks as reorderTracksAction,\n  deleteTrack as deleteTrackAction\n} from \"../redux/modules/workouts/actions\";\nimport { getTracksList } from \"../redux/modules/workouts/selectors\";\nimport { openModal as openModalAction } from \"../redux/modules/general/actions\";\nimport { modals } from \"../shared/constants\";\nimport { DiscussionEmbed } from \"disqus-react\";\n\nclass Workout extends React.Component {\n  onDragEnd = result => {\n    const { tracks, workout, reorderTracks } = this.props;\n\n    if (!result.destination) {\n      return;\n    }\n\n    const reorderedTracks = reorder(\n      tracks,\n      result.source.index,\n      result.destination.index\n    );\n\n    reorderTracks(workout.id, byId(reorderedTracks));\n  };\n\n  render() {\n    const {\n      workout,\n      activateWorkout,\n      pauseWorkout,\n      nextWorkout,\n      tracks,\n      openModal,\n      deleteTrack\n    } = this.props;\n\n    return (\n      <div>\n        <div>\n          <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\n            <Col span={23}>\n              <h2 style={{ margin: \"0\" }}>{workout.name}</h2>\n            </Col>\n            <Col span={1}>\n              <Dropdown\n                trigger={[\"click\"]}\n                placement=\"bottomRight\"\n                overlay={\n                  <Menu>\n                    <Menu.Item\n                      onClick={() =>\n                        openModal({\n                          modal: modals.MANAGE_WORKOUT,\n                          meta: workout\n                        })\n                      }\n                    >\n                      <Icon type=\"edit\" />\n                      Edit Workout\n                    </Menu.Item>\n\n                    <Menu.Item\n                      onClick={() =>\n                        openFullscreen(\n                          document.getElementById(\"root-container\")\n                        )\n                      }\n                    >\n                      <Icon type=\"user\" />\n                      No distraction mode\n                    </Menu.Item>\n                  </Menu>\n                }\n                icon={<Icon type=\"user\" />}\n              >\n                <Button icon=\"setting\" shape=\"circle-outline\" />\n              </Dropdown>\n            </Col>\n          </Row>\n          <p>{workout.description}</p>\n        </div>\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <Droppable droppableId=\"droppablet\">\n            {provided => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <List itemLayout=\"horizontal\">\n                  {tracks.map((track, trackIndex) => (\n                    <Draggable\n                      key={track.id}\n                      draggableId={track.id}\n                      index={trackIndex}\n                    >\n                      {provided => (\n                        <div\n                          className=\"draggable\"\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                        >\n                          <Track\n                            {...track}\n                            workoutId={workout.id}\n                            openModal={openModal}\n                            deleteTrack={deleteTrack}\n                            isActive={\n                              workout.currentTrackId === track.id &&\n                              workout.isActive\n                            }\n                            onFinish={() => nextWorkout(workout.id, track.id)}\n                            onPlay={() => activateWorkout(workout.id, track.id)}\n                            onPause={() => pauseWorkout(workout.id)}\n                          />\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                  <List.Item style={{ background: \"white\" }}>\n                    <Button\n                      onClick={() =>\n                        openModal({\n                          modal: modals.MANAGE_TRACK,\n                          meta: { workoutId: workout.id }\n                        })\n                      }\n                      icon=\"plus\"\n                      type=\"primary\"\n                    >\n                      Add new track\n                    </Button>\n                  </List.Item>\n                </List>\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <DiscussionEmbed\n          shortname=\"guitar-workout\"\n          config={{\n            url: window.location.href,\n            identifier: workout.id,\n            title: workout.name\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state, { match: { params } }) {\n  const workout = state.workouts.byId[params.id];\n  return {\n    workout,\n    tracks: getTracksList(workout)\n  };\n}\n\nconst actions = {\n  activateWorkout: activateWorkoutAction,\n  pauseWorkout: pauseWorkoutAction,\n  nextWorkout: nextWorkoutAction,\n  reorderTracks: reorderTracksAction,\n  openModal: openModalAction,\n  deleteTrack: deleteTrackAction\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(Workout);\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport PopularList from \"./pages/PopularList\";\nimport StarredList from \"./pages/PopularList\";\nimport Workout from \"./pages/Workout\";\nimport * as paths from \"./shared/paths\";\n\nexport default function Router() {\n  return (\n    <>\n      <Route exact path={paths.POPULAR} component={PopularList} />\n      <Route exact path={paths.STARRED} component={StarredList} />\n      <Route exact path={paths.WORKOUT} component={Workout} />\n    </>\n  );\n}\n","import React from \"react\";\nimport { withRouter, generatePath } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { Modal, Form, Input, Button } from \"antd\";\nimport {\n  createWorkout as createWorkoutAction,\n  updateWorkout as updateWorkoutAction\n} from \"../../redux/modules/workouts/actions\";\nimport * as paths from \"../../shared/paths\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 5 }\n  },\n  wrapperCol: {\n    xs: { span: 19 }\n  }\n};\n\nfunction hasErrors(fieldsError) {\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass ManageWorkout extends React.Component {\n  handleSubmit = e => {\n    e && e.preventDefault();\n    const {\n      form,\n      createWorkout,\n      updateWorkout,\n      closeModal,\n      history,\n      workout\n    } = this.props;\n\n    form.validateFields(async (err, values) => {\n      if (!err) {\n        let responseWorkout;\n\n        if (!workout) {\n          responseWorkout = await createWorkout(values);\n        } else {\n          updateWorkout(workout.id, values);\n          responseWorkout = workout;\n        }\n\n        history.push(generatePath(paths.WORKOUT, responseWorkout));\n        closeModal();\n      }\n    });\n  };\n\n  render() {\n    const { closeModal, visible, form, workout } = this.props;\n    const { getFieldDecorator, getFieldsError } = form;\n\n    return (\n      <Modal\n        title={`${workout ? \"Edit\" : \"Create\"} workout`}\n        visible={visible}\n        onCancel={closeModal}\n        footer={[\n          <Button key=\"cancel\" onClick={closeModal}>\n            Cancel\n          </Button>,\n          <Button\n            key=\"create\"\n            type=\"primary\"\n            disabled={hasErrors(getFieldsError())}\n            onClick={this.handleSubmit}\n          >\n            {workout ? \"Edit\" : \"Create\"}\n          </Button>\n        ]}\n      >\n        <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n          <Form.Item label=\"Name\">\n            {getFieldDecorator(\"name\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"Please add a name to your new workout\"\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"Description\">\n            {getFieldDecorator(\"description\")(<Input />)}\n          </Form.Item>\n          <button type=\"submit\" style={{ display: \"none\" }} />\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nconst actions = {\n  createWorkout: createWorkoutAction,\n  updateWorkout: updateWorkoutAction\n};\n\nfunction mapStateToProps(state, props) {\n  if (!props.meta) return {};\n\n  const workout = state.workouts.byId[props.meta.id];\n\n  return {\n    workout\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(\n  Form.create({\n    name: \"manage-workout\",\n    mapPropsToFields({ workout }) {\n      if (!workout) return {};\n\n      return {\n        name: Form.createFormField({\n          value: workout.name\n        }),\n        description: Form.createFormField({\n          value: workout.description\n        })\n      };\n    }\n  })(withRouter(ManageWorkout))\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, Form, Input, Button, InputNumber } from \"antd\";\nimport {\n  createTrack as createTrackAction,\n  updateTrack as updateTrackAction\n} from \"../../redux/modules/workouts/actions\";\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 5 }\n  },\n  wrapperCol: {\n    xs: { span: 19 }\n  }\n};\n\nfunction hasErrors(fieldsError) {\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass ManageTrack extends React.Component {\n  handleSubmit = e => {\n    e && e.preventDefault();\n    const {\n      form,\n      createTrack,\n      updateTrack,\n      closeModal,\n      track,\n      meta\n    } = this.props;\n\n    form.validateFields(async (err, values) => {\n      if (!err) {\n        if (!track) {\n          createTrack(meta.workoutId, values);\n        } else {\n          updateTrack(meta.workoutId, track.id, values);\n        }\n\n        closeModal();\n      }\n    });\n  };\n\n  render() {\n    const { closeModal, visible, form } = this.props;\n    const { getFieldDecorator, getFieldsError } = form;\n\n    return (\n      <Modal\n        title=\"Create Track\"\n        visible={visible}\n        onCancel={closeModal}\n        footer={[\n          <Button key=\"cancel\" onClick={closeModal}>\n            Cancel\n          </Button>,\n          <Button\n            key=\"create\"\n            type=\"primary\"\n            disabled={hasErrors(getFieldsError())}\n            onClick={this.handleSubmit}\n          >\n            Create\n          </Button>\n        ]}\n      >\n        <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n          <Form.Item label=\"Name\">\n            {getFieldDecorator(\"name\", {\n              rules: [\n                {\n                  required: true,\n                  message: \"Please add a name to your new track\"\n                }\n              ]\n            })(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"Description\">\n            {getFieldDecorator(\"description\")(<Input />)}\n          </Form.Item>\n          <Form.Item label=\"BPM\">\n            {getFieldDecorator(\"bpm\", {\n              initialValue: 120,\n              rules: [\n                {\n                  required: true,\n                  message: \"Please set the BPM for this track\"\n                }\n              ]\n            })(<InputNumber style={{ width: \"100%\" }} />)}\n          </Form.Item>\n          <Form.Item label=\"Timer\">\n            {getFieldDecorator(\"timer\", {\n              initialValue: 30,\n              rules: [\n                {\n                  required: true,\n                  message: \"Please set a timer for this track\"\n                }\n              ]\n            })(<InputNumber style={{ width: \"100%\" }} />)}\n          </Form.Item>\n          <button type=\"submit\" style={{ display: \"none\" }} />\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nconst actions = {\n  createTrack: createTrackAction,\n  updateTrack: updateTrackAction\n};\n\nfunction mapStateToProps({ workouts }, { meta }) {\n  if (!meta || !meta.trackId) return {};\n  const { workoutId, trackId } = meta;\n  const track = workouts.byId[workoutId].tracks.byId[trackId];\n  return {\n    track\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(\n  Form.create({\n    name: \"manage-track\",\n    mapPropsToFields({ track }) {\n      if (!track) return {};\n\n      return {\n        name: Form.createFormField({\n          value: track.name\n        }),\n        description: Form.createFormField({\n          value: track.description\n        }),\n        bpm: Form.createFormField({\n          value: track.bpm\n        }),\n        timer: Form.createFormField({\n          value: track.timer\n        })\n      };\n    }\n  })(ManageTrack)\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport ManageWorkout from \"./ManageWorkout\";\nimport ManageTrack from \"./ManageTrack\";\nimport { closeModal as closeModalAction } from \"../../redux/modules/general/actions\";\nimport { modals } from \"../../shared/constants\";\n\nfunction Modals({ closeModal, opened, meta }) {\n  return (\n    <>\n      <ManageWorkout\n        visible={opened === modals.MANAGE_WORKOUT}\n        meta={meta}\n        closeModal={closeModal}\n      />\n      <ManageTrack\n        visible={opened === modals.MANAGE_TRACK}\n        meta={meta}\n        closeModal={closeModal}\n      />\n    </>\n  );\n}\n\nfunction mapStateToProps({ general }) {\n  const { modal } = general;\n  return {\n    ...modal\n  };\n}\n\nconst actions = {\n  closeModal: closeModalAction\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(Modals);\n","import React from \"react\";\nimport { Layout } from \"antd\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Header from \"./components/app/Header\";\nimport Sider from \"./components/app/Sider\";\nimport AppRouter from \"./Router\";\nimport Modals from \"./components/modals\";\n\nconst { Content } = Layout;\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Router>\n        <Layout className=\"base-container\">\n          <Modals />\n          <Header />\n          <Layout style={{ width: \"1024px\", margin: \"auto\" }}>\n            <Sider />\n            <Layout style={{ padding: \"0 24px 24px\", overflow: \"hidden\" }}>\n              <Content\n                id=\"root-container\"\n                style={{\n                  background: \"#fff\",\n                  padding: 24,\n                  margin: 0,\n                  overflow: \"auto\"\n                }}\n              >\n                <AppRouter />\n              </Content>\n            </Layout>\n          </Layout>\n        </Layout>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { byId } from \"../shared/utils\";\n\nexport default [\n  {\n    id: \"3d95296b-b13a-49c8-aa08-5f2e6e92408d\",\n    name: \"Morning Workout\",\n    description: \"Some stuff in the morning\",\n    tracks: byId([\n      {\n        id: \"4a281cb4-9e55-46fb-9356-496600092ec3\",\n        name: \"4 fingers chromatic\",\n        description: \"DESCRIPTION: 4 fingers chromatic\",\n        bpm: 100,\n        timer: 5,\n        order: 0\n      },\n      {\n        id: \"e44908c4-11bd-47dd-b409-c516d8bb54b1\",\n        name: \"3 fingers chromatic / 1\",\n        description: \"DESCRIPTION: 3 fingers chromatic / 1\",\n        bpm: 130,\n        timer: 5,\n        order: 1\n      },\n      {\n        id: \"6d26c72e-bb8e-4ccc-a4c2-7d9841e3d6e6\",\n        name: \"3 fingers chromatic / 2\",\n        description: \"DESCRIPTION: 3 fingers chromatic / 2\",\n        bpm: 130,\n        timer: 5,\n        order: 2\n      }\n    ])\n  }\n];\n","import set from \"lodash/fp/set\";\nimport flow from \"lodash/fp/flow\";\nimport omit from \"lodash/fp/omit\";\nimport workouts from \"../../../mocks/workouts\";\nimport { actionTypes } from \"./constants\";\n\nconst INITIAL_STATE = {\n  ids: workouts.map(({ id }) => id),\n  byId: workouts.reduce(\n    (acc, workout) => ({\n      ...acc,\n      [workout.id]: {\n        ...workout,\n        currentTrackId: null,\n        isActive: false\n      }\n    }),\n    {}\n  )\n};\n\nexport default function reducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case actionTypes.ACTIVATE_WORKOUT: {\n      const { workoutId, trackId } = action.payload;\n      return flow(\n        set(`byId[${workoutId}].currentTrackId`, trackId),\n        set(`byId[${workoutId}].isActive`, true)\n      )(state);\n    }\n\n    case actionTypes.PAUSE_WORKOUT: {\n      const { workoutId } = action.payload;\n      return set(`byId[${workoutId}].isActive`, false, state);\n    }\n\n    case actionTypes.REORDER_TRACKS: {\n      const { workoutId, tracks } = action.payload;\n      return set(`byId[${workoutId}].tracks`, tracks, state);\n    }\n\n    case actionTypes.CREATE_WORKOUT: {\n      const workout = action.payload;\n\n      return flow(\n        set(`byId`, {\n          ...state.byId,\n          [workout.id]: workout\n        }),\n        set(`ids`, [...state.ids, workout.id])\n      )(state);\n    }\n\n    case actionTypes.UPDATE_WORKOUT: {\n      const { name, description, workoutId } = action.payload;\n      return flow(\n        set(`byId[${workoutId}].name`, name),\n        set(`byId[${workoutId}].description`, description)\n      )(state);\n    }\n\n    case actionTypes.CREATE_TRACK: {\n      const { workoutId, track } = action.payload;\n\n      return flow(\n        set(`byId[${workoutId}].tracks.byId`, {\n          ...state.byId[workoutId].tracks.byId,\n          [track.id]: track\n        }),\n        set(`byId[${workoutId}].tracks.ids`, [\n          ...state.byId[workoutId].tracks.ids,\n          track.id\n        ])\n      )(state);\n    }\n\n    case actionTypes.UPDATE_TRACK: {\n      const {\n        name,\n        description,\n        timer,\n        bpm,\n        trackId,\n        workoutId\n      } = action.payload;\n      return flow(\n        set(`byId[${workoutId}].tracks.byId[${trackId}].name`, name),\n        set(\n          `byId[${workoutId}].tracks.byId[${trackId}].description`,\n          description\n        ),\n        set(`byId[${workoutId}].tracks.byId[${trackId}].timer`, timer),\n        set(`byId[${workoutId}].tracks.byId[${trackId}].bpm`, bpm)\n      )(state);\n    }\n\n    case actionTypes.DELETE_TRACK: {\n      const { trackId, workoutId } = action.payload;\n      const workout = state.byId[workoutId];\n      const newWorkout = {\n        ...workout,\n        tracks: {\n          ids: workout.tracks.ids.filter(id => id !== trackId),\n          byId: omit(trackId, workout.tracks.byId)\n        }\n      };\n\n      return set(`byId[${workoutId}]`, newWorkout, state);\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import set from \"lodash/fp/set\";\nimport flow from \"lodash/fp/flow\";\nimport { actionTypes } from \"./constants\";\n\nconst INITIAL_STATE = {\n  modal: {\n    opened: null,\n    meta: null\n  }\n};\n\nexport default function reducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case actionTypes.OPEN_MODAL: {\n      const { modal, meta } = action.payload;\n\n      return flow(\n        set(\"modal.opened\", modal),\n        set(\"modal.meta\", meta)\n      )(state);\n    }\n\n    case actionTypes.CLOSE_MODAL: {\n      return flow(\n        set(\"modal.opened\", null),\n        set(\"modal.meta\", null)\n      )(state);\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { combineReducers } from \"redux\";\nimport workouts from \"./modules/workouts/reducer\";\nimport general from \"./modules/general/reducer\";\n\nexport default combineReducers({\n  workouts,\n  general\n});\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reducers from \"./reducers\";\nimport thunk from \"redux-thunk\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\"; // defaults to localStorage for web\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst persistConfig = {\n  key: \"guitar-workout\",\n  storage,\n  whitelist: [\"workouts\"]\n};\n\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nexport default () => {\n  let store = createStore(\n    persistedReducer,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n  let persistor = persistStore(store);\n  return { store, persistor };\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport configureStore from \"./redux/configureStore\";\n\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}